# 実施記録（EGG 植物園／秋の虫とシシオドシ）

- 会場: 釧路 EGG 植物園（毛綱毅曠による建築）
- 作品テーマ: シシオドシと秋の虫の音・光による空間デザイン
- 実行モード: `ambient`（検出非連動・周期的ボリューム波）＋ 実機ミラー
- 実機連動: 虫の“鳴き”と LED の発光が 1:1 対応

## 実行コマンド（当日運用）

- 画面表示＋実機ミラー送信（LED へ MAGIC フレーム）
  - `python -m src.cli ambient --mirror`
  - オプション例: `--species 2 --change-interval 60 --wave-seconds 20 --density 1.0`
    - `--mirror`: 画面に描画したフレームをそのまま実機へ送信
    - `--species`: 同時に有効化する種の数
    - `--change-interval`: 種の入れ替え間隔（秒）
    - `--wave-seconds`: 音量の“うねり”1周期あたりの秒数（後述の周期増減）
    - `--density`: 個体数や鳴き頻度のスケール

参考: CLI 全体は `python -m src.cli --help` または `src/cli.py` を参照。

## 振る舞い（今回のモード）

- シシオドシの「カコン」検出とは無関係に、虫の鳴き数（個体・同時発声数）が周期的に増減。
  - 実装: `ambient` モードのボリューム波・同時鳴き上限のスケーリングで実現。
  - パラメータ: `--wave-seconds`（音量うねり周期）と `--density`（頻度/同時数）で印象を調整。
- 虫の音と LED は 1:1 対応で同期演出。
  - 鳴きイベントに合わせて LED 側でも対応する発光が起こるため、音と光が混ざり合う体験になる。
- 「無機的・無限的」に“人間とは別の時間軸”で駆動するシシオドシ像を支えるため、
  - 鈴の響き（物理）と虫の音（電子）が同一空間で緩やかに重なり合うよう、
  - 検出連動は行わず（= 非同期）、代わりに音量・個体数の周期波で時間軸の差異を強調。

## 空間・造作

- 既存の水路（EGG の建築要素）を“生かす”レイアウトとし、以下の素材でシシオドシを構成。
  - エンビパイプ（PVC）、鹿の角、ワイヤー等を用い、先端に鈴を装着。
  - 落水の衝撃により鈴が鳴る、物理的な“鹿おどし”。
- 水路面: ガラス玉と LED テープを貼付。水面～河床の煌めきを演出し、季節感（秋）を強調。
- 建築との統合: 毛綱毅曠の世界観（幾何・連続・反復）と、
  - 無限反復的に動作するシシオドシの時間感覚が呼応し、全体として“静と動の重奏”を形成。

## 音響・照明のデザイン意図

- 鈴の音（物理）と虫の音（電子）が“混じり合い”つつ、互いに干渉・同調しすぎない距離感に調整。
- LED は虫の鳴きと 1:1 対応で明滅・発光。人は視覚からも“増減のうねり”を把握できる。
- 周期は固定だが、密度スケーリングにより“生態的なばらつき”を残し、機械的単調さを回避。

## 運用メモ

- 事前に `config.yaml` のシリアル設定（`serial_port`, `baud` など）を実機と一致させる。
- ミラー動作は `MAGIC_BYTE (0x7E)` により LED コントローラへフレーム転送。
- 必要に応じて `--density` を微調整して、会場の残響や会話量に合わせた音量/発声頻度に最適化。

## イベント

- 会場ではトークセッションおよび音楽ライブを実施。
- 来場者の動線は水路沿いに確保し、発光と響きの“流れ”を体感できるよう誘導。

## 既知の注意点 / 制約

- `ambient` はシシオドシ検出に非連動。
- 音量・同時数は会場音響の影響を受けるため、開場後に短時間の再調整を推奨。

## 関連ファイル / 参照

- コマンド実装: `src/cli.py` の `ambient` コマンド
- ビューポート/実機ミラー: `src/sim/viewport.py`
- 設定: `config.yaml`（LED 配置・波・シリアルなど）
- 音資産の正規化: `python -m src.cli audio_normalize`（必要な場合）
